{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\97252\\\\Desktop\\\\react_with_node\\\\src\\\\compomments\\\\Tasks\\\\EditTask.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Form, Button, Container, Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport './EditTask.css';\nimport { Link } from 'react-router-dom';\nexport class EditTask extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: false,\n      id: '',\n      name: '',\n      text: '',\n      date: '',\n      created_by: '',\n      done: ''\n    };\n  }\n\n  componentDidMount() {\n    this.getTaskById();\n  }\n\n  getTaskById() {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    axios.get(`/api/getTaskById/?id=${params.userId}`).then(response => {\n      let date = new Date(response.data[0].date).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      });\n      this.setState({\n        id: response.data[0].id,\n        name: response.data[0].name,\n        text: response.data[0].text,\n        date: date,\n        created_by: response.data[0].created_by,\n        done: response.data[0].done\n      }, () => {\n        console.log(this.state);\n      });\n    });\n  }\n\n  updateTask(e) {\n    e.preventDefault();\n    axios.post(`/api/updateTask`, {\n      id: this.state.id,\n      name: this.state.name,\n      text: this.state.text\n    }).then(response => {\n      this.props.history.push('/');\n    }).catch(err => console.log(err));\n  }\n\n  markAsNotDone(e) {\n    e.preventDefault();\n    axios.get(`/api/markAsNotDone/?id=${this.state.id}`).then(response => {\n      this.setState({\n        redirect: true\n      });\n      this.props.history.push('/');\n    }).catch(err => console.log(err));\n  }\n\n  markAsDone(e) {\n    e.preventDefault();\n    axios.get(`/api/markAsDone/?id=${this.state.id}`).then(response => {\n      this.setState({\n        redirect: true\n      });\n      this.props.history.push('/');\n    }).catch(err => console.log(err));\n  }\n\n  handleNameChange(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  handleTextChange(e) {\n    this.setState({\n      text: e.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Edit Task\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap_form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, !this.state.done ? /*#__PURE__*/React.createElement(Button, {\n      onClick: this.markAsDone.bind(this),\n      className: \"float-right mb-3\",\n      variant: \"success\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 33\n      }\n    }, \"Mark as completed\") : /*#__PURE__*/React.createElement(Button, {\n      onClick: this.markAsNotDone.bind(this),\n      className: \"float-right mb-3\",\n      variant: \"danger\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 33\n      }\n    }, \"Mark as Not completed\"))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formPlaintextEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, \"Task name:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      onChange: this.handleNameChange.bind(this),\n      name: \"name\",\n      placeholder: \"Enter task name....\",\n      defaultValue: this.state.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formPlaintextPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }\n    }, \"Task content:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"text\",\n      onChange: this.handleTextChange.bind(this),\n      type: \"textarea\",\n      placeholder: \"Enter content....\",\n      defaultValue: this.state.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formPlaintextEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, \"Date created:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      plaintext: true,\n      readOnly: true,\n      defaultValue: this.state.date,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formPlaintextPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 29\n      }\n    }, \"Task done:\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, this.state.done == true ? /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-2x text-success fa-check-circle\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 56\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-2x fa-times-circle text-danger\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 135\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"text-white\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"\",\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }\n    }, \"Back\"))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.updateTask.bind(this),\n      className: \"float-right\",\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 33\n      }\n    }, \"Save\"))))));\n  }\n\n}\nexport default EditTask;","map":{"version":3,"sources":["C:/Users/97252/Desktop/react_with_node/src/compomments/Tasks/EditTask.js"],"names":["React","Component","Form","Button","Container","Row","Col","axios","Link","EditTask","constructor","props","state","redirect","id","name","text","date","created_by","done","componentDidMount","getTaskById","match","params","get","userId","then","response","Date","data","toLocaleDateString","year","month","day","hour","minute","second","setState","console","log","updateTask","e","preventDefault","post","history","push","catch","err","markAsNotDone","markAsDone","handleNameChange","target","value","handleTextChange","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Form,Button, Container, Row, Col} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport './EditTask.css';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport class EditTask extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            redirect: false,\r\n            id: '',\r\n            name: '',\r\n            text: '',\r\n            date: '',\r\n            created_by: '',\r\n            done: ''\r\n        };\r\n        \r\n       \r\n    }\r\n\r\n      \r\n    componentDidMount(){\r\n       this.getTaskById();\r\n    }\r\n\r\n    getTaskById(){\r\n        const { match: { params } } = this.props;\r\n        axios.get(`/api/getTaskById/?id=${params.userId}`)\r\n        .then(response => {\r\n                let date =  new Date(response.data[0].date).toLocaleDateString('en-US', {year: 'numeric', month: '2-digit',day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit'})\r\n                this.setState({ \r\n                    id: response.data[0].id,\r\n                    name: response.data[0].name,\r\n                    text: response.data[0].text,\r\n                    date: date,\r\n                    created_by: response.data[0].created_by,\r\n                    done: response.data[0].done\r\n                }, () =>{\r\n                    console.log(this.state);\r\n                })\r\n        })\r\n    }\r\n\r\n    updateTask(e){\r\n        e.preventDefault();\r\n        axios.post(`/api/updateTask`, {\r\n            id: this.state.id,\r\n            name: this.state.name,\r\n            text: this.state.text\r\n          })\r\n        .then(response => {\r\n            this.props.history.push('/');\r\n        }).catch(err => console.log(err));\r\n\r\n\r\n    }\r\n\r\n    markAsNotDone(e){\r\n        e.preventDefault();\r\n        axios.get(`/api/markAsNotDone/?id=${this.state.id}`)\r\n        .then(response => {\r\n            this.setState({redirect: true});\r\n            this.props.history.push('/');\r\n        }).catch(err => console.log(err));\r\n\r\n        \r\n       \r\n    }\r\n\r\n    markAsDone(e){\r\n        e.preventDefault();\r\n        axios.get(`/api/markAsDone/?id=${this.state.id}`)\r\n        .then(response => {\r\n            this.setState({ redirect: true });\r\n            this.props.history.push('/');\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    handleNameChange(e){\r\n        this.setState({name: e.target.value});\r\n    }\r\n\r\n    handleTextChange(e){\r\n        this.setState({text: e.target.value});\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n           \r\n\r\n            \r\n            <Container>\r\n                <h1 className=\"text-center p-4\" >Edit Task</h1>\r\n                <div className=\"wrap_form\">\r\n                    <Form>\r\n                        <Row>\r\n                            <Col>\r\n                                { !this.state.done ? \r\n                                <Button onClick={this.markAsDone.bind(this)} className=\"float-right mb-3\" variant=\"success\" type=\"submit\">\r\n                                    Mark as completed\r\n                                </Button>\r\n                                : \r\n                                <Button onClick={this.markAsNotDone.bind(this)} className=\"float-right mb-3\" variant=\"danger\" type=\"submit\">\r\n                                    Mark as Not completed\r\n                                </Button>\r\n                                }                    \r\n\r\n                            </Col>\r\n                            \r\n                        </Row>\r\n\r\n                        <Form.Group as={Row} controlId=\"formPlaintextEmail\">\r\n                            <Form.Label column sm=\"2\">\r\n                                Task name:\r\n                            </Form.Label>\r\n                            <Col sm=\"10\">\r\n                                <Form.Control onChange={this.handleNameChange.bind(this)} name=\"name\" placeholder=\"Enter task name....\"  defaultValue={this.state.name} />\r\n                            </Col>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Row} controlId=\"formPlaintextPassword\">\r\n                            <Form.Label column sm=\"2\">Task content:</Form.Label>\r\n                            <Col sm=\"10\">\r\n                                <Form.Control name=\"text\" onChange={this.handleTextChange.bind(this)} type=\"textarea\" placeholder=\"Enter content....\" defaultValue={this.state.text} />\r\n                            </Col>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Row} controlId=\"formPlaintextEmail\">\r\n                            <Form.Label column sm=\"2\">Date created:</Form.Label>\r\n                            <Col sm=\"10\">\r\n                            <Form.Control plaintext readOnly defaultValue={this.state.date} />\r\n                            </Col>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Row} controlId=\"formPlaintextPassword\">\r\n                            <Form.Label column sm=\"2\">Task done:</Form.Label>\r\n                            <Col sm=\"10\">\r\n                            {this.state.done == true ? <i className=\"fa fa-2x text-success fa-check-circle\" aria-hidden=\"true\"></i> : <i className=\"fa fa-2x fa-times-circle text-danger\" aria-hidden=\"true\"></i>}\r\n                            </Col>\r\n                        </Form.Group>\r\n\r\n                        <Row>\r\n                            <Col>\r\n                                <Link className=\"text-white\" to=\"/\">\r\n                                    <Button  className=\"\"  variant=\"secondary\">\r\n                                        Back    \r\n                                    </Button>\r\n                                </Link>\r\n                            </Col>\r\n\r\n                            <Col>                    \r\n                                <Button onClick={this.updateTask.bind(this)} className=\"float-right\" variant=\"primary\" type=\"submit\">\r\n                                    Save\r\n                                </Button>\r\n                            </Col>\r\n                            \r\n                        </Row>\r\n\r\n                    </Form>\r\n                </div>\r\n                \r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditTask\r\n"]},"metadata":{},"sourceType":"module"}